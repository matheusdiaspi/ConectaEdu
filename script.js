// script.js - C√ìDIGO FINAL (SEM A FRASE "ENCONTRADO NAS PALAVRAS-CHAVE")

// =================================================================
// 0. CONTE√öDO DE TEXTO DO PDF (CARREIRA EMPREENDEDORA.pdf)
// =================================================================

const pdfContent_CarreiraEmpreendedora = `
VANESSA ALENCAR
CURSO T√âCNICO DE ADMINISTRA√á√ÉO
COM √äNFASE EM EMPREENDEDORISMO
CARREIRA EMPREENDEDORA
AULA 1
EDUCA√á√ÉO Secretaria de Estado da Educa√ß√£o / SEDUC
Piau√≠
GOVERNO DO ESTADO
Conte√∫do
SECRETARIA DA EDUCA√á√ÉO SEDUC
GOVERNO DO PIAU√ç AQUI TEM TRABALHO AQUI TEM FUTURO
1 Introdu√ß√£o 3. 2 O papel transformador do empreendedorismo na sociedade 4. 3 Diversidade de caminhos para uma carreira empreendedora 6. 4 A import√¢ncia da perseveran√ßa e adapta√ß√£o no empreendedorismo 7. 5 Conclus√£o 9. 6 Gloss√°rio 9. 7 Refer√™ncias 10.
2
SECRETARIA
DA EDUCA√á√ÉO SEDUC
GOVERNO DO PIAU√ç AQUI TEM TRABALHO AQUI TEM FUTURO
1 Introdu√ß√£o
O empreendedorismo √© um campo vibrante e essencial que vai al√©m da simples cria√ß√£o de empresas.
Ele desempenha um papel crucial na sociedade ao impulsionar inova√ß√µes e fornecer solu√ß√µes para problemas contempor√¢neos.
Empreendedores s√£o aqueles que n√£o apenas identificam oportunidades no mercado, mas tamb√©m s√£o capazes de transformar essas oportunidades em solu√ß√µes criativas e eficazes.
Eles veem os desafios como portas abertas para inova√ß√£o, contribuindo significativamente para o desenvolvimento econ√¥mico e social por meio da gera√ß√£o de empregos e da introdu√ß√£o de novas ideias.
Existem v√°rias trajet√≥rias que um aspirante a empreendedor pode seguir.
Alguns podem optar por iniciar seu pr√≥prio neg√≥cio, enquanto outros podem encontrar seu caminho empreendendo dentro de empresas j√° estabelecidas ou trabalhando em neg√≥cios familiares.
H√° tamb√©m aqueles que escolhem apoiar outros empreendedores ou explorar diferentes setores antes de se decidirem por um caminho espec√≠fico.
Cada uma dessas rotas oferece desafios √∫nicos e exige uma combina√ß√£o de vis√£o, paix√£o e perseveran√ßa.
A jornada empreendedora √© marcada por constantes desafios e a necessidade de adapta√ß√£o.
Empreendedores bem-sucedidos s√£o aqueles que n√£o apenas t√™m a capacidade de persistir diante das adversidades, mas tamb√©m de aprender continuamente e adaptar-se √†s mudan√ßas do mercado.
A carreira empreendedora √©, por natureza, din√¢mica e exige uma atualiza√ß√£o constante das habilidades e conhecimentos para manter-se relevante e competitivo.
Portanto, o empreendedorismo n√£o √© apenas sobre a constru√ß√£o de um neg√≥cio, mas sobre moldar o futuro e ter um impacto significativo no mundo.
Ao oferecer solu√ß√µes inovadoras, os empreendedores desempenham um papel fundamental no desenvolvimento econ√¥mico e social, desafiando o status quo e introduzindo novas maneiras de pensar e fazer neg√≥cios.
Este material did√°tico visa explorar esses aspectos do empreendedorismo, preparando os jovens para entender e talvez entrar neste campo estimulante.
2 O papel transformador do empreendedorismo na sociedade
O empreendedorismo desempenha um papel transformador na sociedade ao estimular a inova√ß√£o e a resolu√ß√£o de problemas.
Empreendedores, ao identificar lacunas e necessidades no mercado, desenvolvem solu√ß√µes criativas que muitas vezes levam ao surgimento de novos produtos, servi√ßos e tecnologias.
Essas inova√ß√µes n√£o apenas atendem √†s demandas dos consumidores, mas tamb√©m podem introduzir melhorias significativas na qualidade de vida das pessoas, promovendo avan√ßos em diversos setores como sa√∫de, educa√ß√£o e tecnologia.
Al√©m de impulsionar a inova√ß√£o, o empreendedorismo √© crucial para o desenvolvimento econ√¥mico.
Ao criar empresas, os empreendedores geram empregos e estimulam o crescimento econ√≥mico.
Essa gera√ß√£o de empregos n√£o se limita apenas √† quantidade, mas tamb√©m √† qualidade, pois muitas startups promovem ambientes de trabalho inclusivos e din√¢micos que valorizam a diversidade e a criatividade.
Isso contribui para uma economia mais robusta e diversificada, reduzindo a depend√™ncia de setores tradicionais e fomentando um ecossistema empresarial vibrante.
Empreendedores frequentemente desafiam o status quo e introduzem novas maneiras de pensar e fazer neg√≥cios, o que pode levar a mudan√ßas sociais significativas.
Por exemplo, ao priorizar a sustentabilidade, empresas inovadoras podem influenciar outras a adotarem pr√°ticas mais respons√°veis ambientalmente.
Esse tipo de lideran√ßa pode transformar ind√∫strias inteiras, promovendo uma mudan√ßa de paradigma que valoriza tanto o lucro quanto o planeta.
A escolha do caminho empreendedor tamb√©m reflete a capacidade de adapta√ß√£o e aprendizado cont√≠nuo, habilidades essenciais no mundo din√¢mico de hoje.
Por fim, o empreendedorismo tem um papel crucial no desenvolvimento social ao promover a inclus√£o e acessibilidade.
Muitos empreendedores est√£o comprometidos com a cria√ß√£o de solu√ß√µes que atendam √†s necessidades de comunidades marginalizadas ou subatendidas, contribuindo assim para uma sociedade mais equitativa.
3 Diversidade de caminhos para uma carreira empreendedora
O empreendedorismo √© uma jornada diversa e multifacetada, onde cada indiv√≠duo pode escolher um caminho que melhor se alinhe com suas habilidades, interesses e circunst√¢ncias pessoais.
Uma das op√ß√µes √© iniciar uma empresa pr√≥pria, um caminho tradicional que permite ao empreendedor trazer suas ideias inovadoras diretamente para o mercado.
Outra alternativa √© o intraempreendedorismo, que ocorre dentro de empresas j√° estabelecidas.
Esta op√ß√£o permite aos empreendedores trabalhar com recursos mais robustos e uma rede de suporte estabelecida, enquanto ainda inovam e conduzem mudan√ßas significativas.
Trabalhar em uma empresa familiar tamb√©m √© uma forma v√°lida de empreendedorismo.
Al√©m disso, h√° aqueles que escolhem apoiar outros empreendedores, seja como mentores, investidores ou consultores.
Finalmente, o empreendedorismo internacional oferece uma perspectiva global, permitindo aos empreendedores explorar novos mercados e culturas.
4 A import√¢ncia da perseveran√ßa e adapta√ß√£o no empreendedorismo
A perseveran√ßa √© um dos pilares fundamentais para o sucesso no empreendedorismo.
Empreendedores frequentemente enfrentam obst√°culos e desafios que podem parecer insuper√°veis, desde a falta de recursos financeiros at√© a resist√™ncia do mercado a novas ideias.
No entanto, √© a capacidade de persistir, mesmo diante das adversidades, que permite aos empreendedores superar essas barreiras.
A capacidade de adapta√ß√£o √© igualmente crucial. O mercado est√° em constante mudan√ßa, e o que funciona hoje pode n√£o funcionar amanh√£.
Empreendedores bem-sucedidos s√£o aqueles que conseguem se adaptar rapidamente √†s novas condi√ß√µes e demandas do mercado.
O aprendizado cont√≠nuo √© outro aspecto importante da jornada empreendedora.
O mundo dos neg√≥cios est√° sempre evoluindo, e as inova√ß√µes tecnol√≥gicas e mudan√ßas nas prefer√™ncias dos consumidores podem alterar drasticamente o cen√°rio de mercado.
5 Conclus√£o
Em resumo, o empreendedorismo desempenha um papel crucial no desenvolvimento econ√¥mico e social, n√£o apenas criando empregos, mas tamb√©m introduzindo inova√ß√µes que desafiam o status quo e promovem a melhoria cont√≠nua em diversos setores.
Al√©m disso, a carreira empreendedora oferece uma variedade de caminhos que se adaptam √†s diferentes vis√µes e circunst√¢ncias individuais.
Por fim, √© fundamental que os empreendedores mantenham a perseveran√ßa, a capacidade de adapta√ß√£o e o compromisso com o aprendizado cont√≠nuo.
6 Gloss√°rio
1. Empreendedorismo: Refere-se √† iniciativa de estabelecer novos neg√≥cios ou revigorar neg√≥cios existentes, respondendo a oportunidades de mercado com inova√ß√£o e risco calculado.
2. Perseveran√ßa: Capacidade de continuar em um curso de a√ß√£o, mesmo diante de dificuldades, obst√°culos ou des√¢nimo prolongado.
3. Adapta√ß√£o: Habilidade de mudar ou ajustar respostas em face de novas circunst√¢ncias ou desafios no ambiente.
4. Inova√ß√£o: Processo de criar novas ideias, produtos ou m√©todos, que muitas vezes leva a melhorias significativas ou √† resolu√ß√£o de problemas.
5. Desenvolvimento econ√¥mico e social: Melhorias na qualidade de vida e bem-estar econ√¥mico das pessoas.
`;


// =================================================================
// 1. FUN√á√ïES DE SUPORTE
// =================================================================

const searchPdfContent = (content, term) => {
    const lowerCaseTerm = term.toLowerCase()
        .replace(/[\u00A0\uFEFF]/g, ' ') 
        .replace(/\s+/g, ' ') 
        .trim();
    
    const results = [];
    const normalizedContent = content
        .replace(/[\u00A0\uFEFF]/g, ' ') 
        .replace(/\s+/g, ' ') 
        .trim();

    const blocks = normalizedContent.split(/(?<=[.?!;])\s*/g).filter(s => s.trim().length > 0);
    const uniqueResults = new Set();

    blocks.forEach(block => {
        if (block.toLowerCase().includes(lowerCaseTerm)) {
            let cleanBlock = block.trim();
            
            if (!uniqueResults.has(cleanBlock)) {
                if (!cleanBlock.match(/[.?!;]$/)) {
                    cleanBlock += '.';
                }
                uniqueResults.add(cleanBlock);
                results.push(cleanBlock);
            }
        }
    });

    return results;
};


document.getElementById('cta-button')?.addEventListener('click', function() {
    alert('√ìtima escolha! Vamos te conectar com o aprendizado. A partir de R$ 50,00, voc√™ j√° come√ßa a estudar!');
    document.getElementById('plans')?.scrollIntoView({ behavior: 'smooth' });
});


window.addEventListener('scroll', function() {
    const header = document.querySelector('header');
    if (window.scrollY > 50) {
        header.style.backgroundColor = '#1C6D42'; 
    } else {
        header.style.backgroundColor = 'var(--primary-color)';
    }
});


// =================================================================
// 4. Fun√ß√£o para Abrir o PDF
// =================================================================
function openPdf(fileName, page, searchTerm) {
    let url = fileName;
    
    if (page && page > 1) {
        url += `#page=${page}`;
    }
    
    if (searchTerm && searchTerm.trim() !== '') {
        const encodedSearchTerm = encodeURIComponent(searchTerm.trim());
        url += `#search="${encodedSearchTerm}"`;
    }
    
    window.open(url, '_blank');
}

// =================================================================
// 5. L√ìGICA DE BUSCA
// =================================================================

function debounce(func, delay) {
    let timeoutId;
    return function(...args) {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            func.apply(this, args);
        }, delay);
    };
}

function searchMaterial() {
    const searchTerm = document.getElementById('pdf-search').value;
    const lowerCaseSearchTerm = searchTerm.toLowerCase(); 

    const serviceCards = document.querySelectorAll('.service-card');
    const pdfResultsContainer = document.querySelector('.pdf-results');
    
    let foundInServices = false;
    let htmlPdfResults = '';
    
    if (searchTerm.length === 0) {
        serviceCards.forEach(card => card.style.display = 'block');
        serviceCards.forEach(card => card.style.border = '5px solid var(--primary-color)');
        
        pdfResultsContainer.innerHTML = `
            <h4>Documento de Destaque</h4>
            <a href="CARREIRA EMPREENDEDORA.pdf" class="pdf-item" target="_blank">
                CARREIRA EMPREENDEDORA: Curso T√©cnico de Administra√ß√£o (Aula 1)
            </a>
        `;
        return; 
    }

    // --- LISTA DE DOCUMENTOS ---
    const documents = [
        { 
            title: 'CARREIRA EMPREENDEDORA: 1 Introdu√ß√£o', 
            keywords: 'empreendedorismo, introdu√ß√£o, inova√ß√£o, solu√ß√µes, oportunidades, cria√ß√£o de empresas, desafios', 
            url: 'CARREIRA EMPREENDEDORA.pdf', 
            content: pdfContent_CarreiraEmpreendedora,
            page_start: 3 
        },
        { 
            title: 'O papel transformador do empreendedorismo na sociedade', 
            keywords: 'papel transformador, inova√ß√£o, resolu√ß√£o de problemas, desenvolvimento econ√¥mico, sustentabilidade, inclus√£o', 
            url: 'CARREIRA EMPREENDEDORA.pdf', 
            content: pdfContent_CarreiraEmpreendedora,
            page_start: 4 
        },
        { 
            title: 'Diversidade de caminhos para uma carreira empreendedora', 
            keywords: 'diversidade, caminhos, empresa pr√≥pria, intraempreendedorismo, empresa familiar, investidores, mentores, internacional', 
            url: 'CARREIRA EMPREENDEDORA.pdf', 
            content: pdfContent_CarreiraEmpreendedora,
            page_start: 6 
        },
        { 
            title: 'A import√¢ncia da perseveran√ßa e adapta√ß√£o no empreendedorismo', 
            keywords: 'perseveran√ßa, adapta√ß√£o, aprendizado cont√≠nuo, obst√°culos, incertezas, sucesso', 
            url: 'CARREIRA EMPREENDEDORA.pdf', 
            content: pdfContent_CarreiraEmpreendedora,
            page_start: 7 
        },
        { 
            title: 'Gloss√°rio de Termos Chave', 
            keywords: 'gloss√°rio, empreendedorismo, perseveran√ßa, adapta√ß√£o, inova√ß√£o, desenvolvimento econ√¥mico e social', 
            url: 'CARREIRA EMPREENDEDORA.pdf', 
            content: pdfContent_CarreiraEmpreendedora,
            page_start: 9
        }
    ];
    
    // Filtragem dos cards de servi√ßo
    serviceCards.forEach(card => {
        const cardTitle = card.querySelector('h4').textContent.toLowerCase();
        const cardDescription = card.querySelector('p').textContent.toLowerCase();
        const matches = cardTitle.includes(lowerCaseSearchTerm) || cardDescription.includes(lowerCaseSearchTerm);

        if (matches) {
            card.style.display = 'block'; 
            card.style.border = '5px solid orange'; 
            foundInServices = true;
        } else {
            card.style.display = 'none';
        }
    });

    // Busca de Frases
    const pdfContentMatches = [];
    
    documents.forEach(doc => {
        if (doc.content) {
            const keywordMatch = doc.keywords.toLowerCase().includes(lowerCaseSearchTerm) || doc.title.toLowerCase().includes(lowerCaseSearchTerm);
            
            let matches = [];
            if (!keywordMatch) {
                 matches = searchPdfContent(doc.content, searchTerm); 
            }
            
            if (matches.length > 0 || keywordMatch) {
                // ‚úÖ CORRE√á√ÉO AQUI: Remove o texto "Encontrado nas palavras-chave..."
                // Agora exibe apenas o t√≠tulo do documento ou o texto encontrado
                const phrases = matches.length > 0 ? matches : [doc.title]; 

                pdfContentMatches.push({ 
                    title: doc.title, 
                    url: doc.url, 
                    phrases: phrases, 
                    page_start: doc.page_start 
                }); 
            }
        }
    });

    // Exibi√ß√£o dos Resultados
    if (pdfContentMatches.length > 0) {
        htmlPdfResults += '<h4>üìÅ Trechos Encontrados em Documentos e Materiais Did√°ticos:</h4>';
        
        pdfContentMatches.forEach(docMatch => {
            const pageInfo = docMatch.page_start ? ` (P√°gina ${docMatch.page_start})` : '';
            const openPdfLink = docMatch.url ? 
                ` (<a href="#" onclick="openPdf('${docMatch.url}', ${docMatch.page_start || 1}, '${searchTerm}'); return false;">Abrir PDF completo</a>)` : 
                ''; 

            htmlPdfResults += `<h5 style="margin-top: 20px; color: var(--secondary-color); font-size: 1.1rem;">No documento: ${docMatch.title}${pageInfo}${openPdfLink}</h5>`;
            
            docMatch.phrases.forEach(phrase => {
                let displayedPhrase = phrase;
                
                // Destaque local
                const termToHighlight = searchTerm.replace(/[\u00A0\uFEFF]/g, ' ').replace(/\s+/g, ' ').trim();
                displayedPhrase = phrase.replace(new RegExp(termToHighlight, 'gi'), match => `<strong>${match}</strong>`);
                
                const onClickAction = docMatch.url ? `onclick="openPdf('${docMatch.url}', ${docMatch.page_start || 1}, '${searchTerm}'); return false;" style="cursor: pointer;"` : '';
                
                htmlPdfResults += `<p class="pdf-item" ${onClickAction} style="background-color: #f0f0f0; border-left: 3px solid #4682B4; margin-bottom: 5px;">... ${displayedPhrase}</p>`;
            });
        });
    }

    // Feedback Final
    pdfResultsContainer.innerHTML = htmlPdfResults;
    
    if (!foundInServices && pdfContentMatches.length === 0) {
        pdfResultsContainer.innerHTML = `<h4>Nenhum curso ou material did√°tico encontrado para "${searchTerm}".</h4>`;
        serviceCards.forEach(card => card.style.display = 'block');
        serviceCards.forEach(card => card.style.border = '5px solid var(--primary-color)');
    } else if (pdfContentMatches.length > 0 && !foundInServices) {
          serviceCards.forEach(card => card.style.display = 'block');
          serviceCards.forEach(card => card.style.border = '5px solid var(--primary-color)');
    }
}

// ATIVA√á√ÉO DA BUSCA
const debouncedSearch = debounce(searchMaterial, 300); 
document.getElementById('pdf-search')?.addEventListener('input', debouncedSearch);
document.querySelector('.search-box button')?.addEventListener('click', (e) => {
    e.preventDefault(); 
    searchMaterial(); 
});